{% extends "base.html" %}
{% block content %}
  <form class="cloud form-row" method="post" action="{{ url_for('step2') }}">
    <label class="field">
      <span>{{ content.field_label }}</span>
      <input class="name-input" type="text" name="name" required placeholder="{{ content.field_placeholder }}" autocomplete="off" />
    </label>
  </form>

  <script>
    // Play a randomly selected audio clip from the name folder
    document.addEventListener('DOMContentLoaded', function() {
      const audioFiles = [
        "{{ url_for('static', filename='audio/name/name1.wav') }}",
        "{{ url_for('static', filename='audio/name/name2.wav') }}",
        "{{ url_for('static', filename='audio/name/name3.wav') }}",
        "{{ url_for('static', filename='audio/name/name4.wav') }}"
      ];
      
      // Randomly select one audio file
      const randomIndex = Math.floor(Math.random() * audioFiles.length);
      const selectedAudio = audioFiles[randomIndex];
      
      console.log(`[${new Date().toLocaleTimeString()}] Playing random audio: ${selectedAudio}`);
      
      const audio = new Audio(selectedAudio);
      audio.volume = 1.0;
      
      audio.play()
        .then(() => {
          console.log('Audio playing successfully');
        })
        .catch(error => {
          console.error('Audio playback failed:', error);
        });
    });
  </script>
{% endblock %}

